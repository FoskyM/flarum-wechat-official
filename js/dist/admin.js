(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e),t.d(e,{extend:()=>f});const a=flarum.core.compat["common/extenders"];var i=t.n(a);function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}const r=flarum.core.compat["common/Model"];var l=t.n(r),s=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).user_id=l().attribute("user_id"),e.wechat_open_id=l().attribute("wechat_open_id"),e.wechat_original_data=l().hasOne("wechat_original_data"),e}return o(e,t),e}(l()),c=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).openid=l().attribute("openid"),e.nickname=l().attribute("nickname"),e.sex=l().attribute("sex"),e.language=l().attribute("language"),e.city=l().attribute("city"),e.province=l().attribute("province"),e.country=l().attribute("country"),e.headimgurl=l().attribute("headimgurl"),e.privilege=l().attribute("privilege"),e}return o(e,t),e}(l());const f=[(new(i().Store)).add("wechat_link",s).add("wechat_original_data",c)],d=flarum.core.compat["admin/app"];var p=t.n(d);p().initializers.add("foskym/flarum-wechat-official",(function(){p().extensionData.for("foskym-wechat-official").registerSetting({setting:"foskym-wechat-official.develop_mode",label:p().translator.trans("foskym-wechat-official.admin.settings.develop_mode_label"),help:p().translator.trans("foskym-wechat-official.admin.settings.develop_mode_description"),type:"boolean"}).registerSetting((function(){var t=this.setting("foskym-wechat-official.develop_mode")();return"0"===t&&(t=!1),m("div",{className:"Form-group"},m("label",null,p().translator.trans("foskym-wechat-official.admin.settings.app_id_label")),m("input",{type:"text",className:"FormControl",bidi:this.setting("foskym-wechat-official.app_id"+(t?"_dev":""))}))})).registerSetting((function(){var t=this.setting("foskym-wechat-official.develop_mode")();return"0"===t&&(t=!1),m("div",{className:"Form-group"},m("label",null,p().translator.trans("foskym-wechat-official.admin.settings.app_secret_label")),m("input",{type:"text",className:"FormControl",bidi:this.setting("foskym-wechat-official.app_secret"+(t?"_dev":""))}))})).registerSetting((function(){var t=this.setting("foskym-wechat-official.develop_mode")();return"0"===t&&(t=!1),m("div",{className:"Form-group"},m("label",null,p().translator.trans("foskym-wechat-official.admin.settings.token_label")),m("input",{type:"text",className:"FormControl",bidi:this.setting("foskym-wechat-official.token"+(t?"_dev":""))}))})).registerSetting((function(){var t=this.setting("foskym-wechat-official.develop_mode")();return"0"===t&&(t=!1),m("div",{className:"Form-group"},m("label",null,p().translator.trans("foskym-wechat-official.admin.settings.aes_key_label")),m("input",{type:"text",className:"FormControl",bidi:this.setting("foskym-wechat-official.aes_key"+(t?"_dev":""))}))})).registerSetting({setting:"foskym-wechat-official.server_url",label:p().translator.trans("foskym-wechat-official.admin.settings.server_url_label"),help:location.origin+"/api/wechat-official/ping",type:"hidden"}).registerSetting({setting:"foskym-wechat-official.callback_url",label:p().translator.trans("foskym-wechat-official.admin.settings.callback_url_label"),help:p().translator.trans("foskym-wechat-official.admin.settings.callback_url_description"),type:"hidden"}).registerSetting((function(){var t=this.setting("foskym-wechat-official.develop_mode")();if("0"===t&&(t=!1),t)return m("div",{className:"Form-group"},m("label",null,p().translator.trans("foskym-wechat-official.admin.settings.template_message_id_label")),m("div",{class:"helpText"},p().translator.trans("foskym-wechat-official.admin.settings.template_message_id_description")),m("div",{class:"helpText"},"【标题: {{thing01.DATA}} 内容: {{thing02.DATA}} 时间: {{time01.DATA}}\t】"),m("input",{type:"text",className:"FormControl",bidi:this.setting("foskym-wechat-official.template_message_id")}))})).registerSetting({setting:"foskym-wechat-official.enable_push",label:p().translator.trans("foskym-wechat-official.admin.settings.enable_push_label"),type:"boolean"}).registerSetting({setting:"foskym-wechat-official.enable_login_replace",label:p().translator.trans("foskym-wechat-official.admin.settings.enable_login_replace_label"),help:p().translator.trans("foskym-wechat-official.admin.settings.enable_login_replace_description"),type:"boolean"}).registerSetting({setting:"foskym-wechat-official.enable_unbind",label:p().translator.trans("foskym-wechat-official.admin.settings.enable_unbind_label"),type:"boolean"})}))})(),module.exports=e})();
//# sourceMappingURL=admin.js.map